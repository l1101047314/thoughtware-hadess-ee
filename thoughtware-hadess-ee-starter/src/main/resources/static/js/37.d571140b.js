(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{938:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));a(395);var n=a(394),l=(a(251),a(184)),r=(a(253),a(172)),o=(a(171),a(81)),c=(a(255),a(188)),i=a(0),u=a.n(i),s=a(401),d=a(396),f=a(100);Object(f.a)(".hole .hole-up {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.hole .hole-search-style {\n  display: flex;\n  gap: 20px;\n  margin-top: 10px;\n}\n.hole .hole-table {\n  padding-top: var(--xpack-table-top);\n}\n.hole .text-red {\n  color: red;\n}\n.hole .text-dired {\n  color: #df5000;\n}\n.hole .text-yellow {\n  color: #ee9900;\n}\n.hole .text-blue {\n  color: #1890ff;\n}");var m=a(407),h=a(382),p=a(131),y=a(482),v=a(111),b=a(689),E=a(694),g=a(894);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,l,r,o,c=[],i=!0,u=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=r.call(a)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){u=!0,l=e}finally{try{if(!i&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(u)throw l}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var k=[{key:1,value:"严重漏洞"},{key:2,value:"高危漏洞"},{key:3,value:"中危漏洞"},{key:4,value:"低危漏洞"}],S=[{key:"Java",value:"Java"},{key:"Node",value:"Node.js"}],j=Object(v.observer)((function(e){var t=y.a.findScanHolePage,a=y.a.createScanHole,f=y.a.deleteScanHole,v=y.a.fresh,x=w(Object(i.useState)(),2),j=x[0],N=x[1],O=w(Object(i.useState)(1),2),C=O[0],I=O[1],P=w(Object(i.useState)(),2),A=P[0],H=P[1],J=w(Object(i.useState)(15),1)[0],L=w(Object(i.useState)(!1),2),T=L[0],V=L[1],z=w(Object(i.useState)(""),2),K=z[0],M=z[1],R=w(Object(i.useState)(!1),2),U=R[0],$=R[1],q=w(Object(i.useState)(),2),B=q[0],D=q[1],F=w(Object(i.useState)(),2),G=F[0],Q=F[1];Object(i.useEffect)((function(){X(C)}),[v]);var W=[{title:"漏洞名称",dataIndex:"holeName",key:"holeName",width:"30%",ellipsis:!0,render:function(e,t){return u.a.createElement("div",{className:"text-color",onClick:function(){return Y(t)}},e)}},{title:"漏洞编号",dataIndex:"holeNumber",key:"holeNumber",width:"20%",ellipsis:!0},{title:"产品",dataIndex:"product",key:"product",width:"20%",ellipsis:!0},{title:"漏洞等级",dataIndex:"holeLevel",key:"holeLevel",width:"10%",ellipsis:!0,render:function(e){return 1===e&&u.a.createElement("div",{className:"text-red"},"严重漏洞")||2===e&&u.a.createElement("div",{className:"text-dired"},"高危漏洞")||3===e&&u.a.createElement("div",{className:"text-yellow"},"中危漏洞")||4===e&&u.a.createElement("div",{className:"text-blue"},"低危漏洞")}},{title:"操作",dataIndex:"action",key:"action",width:"10%",render:function(e,t){return u.a.createElement(o.default,{title:"移除"},u.a.createElement(c.default,{placement:"topRight",title:"你确定移除吗",onConfirm:function(){return f(t.id)},okText:"确定",cancelText:"取消"},u.a.createElement("span",{style:{cursor:"pointer"}},u.a.createElement(h.default,null))))}}],X=function(e,a,n){t({holeLevel:a,language:n,pageParam:{currentPage:e,pageSize:J}}).then((function(e){0===e.code&&(N(e.data.dataList),H(e.data.totalPage))}))},Y=function(e){M(e),V(!0)};return u.a.createElement("div",{className:"hole"},u.a.createElement("div",{className:"hadess-setting-large-width"},u.a.createElement("div",{className:"hole-up"},u.a.createElement(s.a,{firstItem:"漏洞列表"}),u.a.createElement(d.a,{type:"primary",title:"添加漏洞",onClick:function(){$(!0)}})),u.a.createElement("div",{className:"hole-search-style"},u.a.createElement(r.default,{allowClear:!0,style:{width:130},onChange:function(e){D(e),X(C,e,G)},placeholder:"漏洞等级",className:"input-style"},k.map((function(e){return u.a.createElement(b.a,{key:e.key,value:e.key},e.value)}))),u.a.createElement(r.default,{allowClear:!0,style:{width:130},onChange:function(e){Q(e),X(C,B,e)},placeholder:"语言",className:"input-style"},S.map((function(e){return u.a.createElement(b.a,{key:e.key,value:e.key},e.value)}))),u.a.createElement(l.default,{placeholder:"漏洞名称",onChange:function(){},onPressEnter:function(){},size:"middle",style:{width:200},prefix:u.a.createElement(p.default,null)})),u.a.createElement("div",{className:"hole-table"},u.a.createElement(n.default,{bordered:!1,columns:W,dataSource:j,rowKey:function(e){return e.id},pagination:!1}),u.a.createElement(m.a,{pageCurrent:C,changPage:function(e){I(e),X(e)},totalPage:A}))),u.a.createElement(E.a,{visible:T,setVisible:V,hole:K}),u.a.createElement(g.default,{editVisible:U,setEditVisible:$,createScanHole:a}))}))}}]);